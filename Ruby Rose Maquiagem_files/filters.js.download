var filters={};filters.nameSelector='data-filter-name';filters.valueSelector='data-filter-value';filters.selectedFiltersListener=function(){$(document).on('click','['+filters.nameSelector+']',function(){var _name=$(this).attr(filters.nameSelector);var _value=$(this).attr(filters.valueSelector);if(_name&&_value){filters.removeFilter(_name,_value);}});}
filters.removeFilter=function(name,value){var _urlParams=helper.getUrlParams();var _hrefParams={};$.each(_urlParams,function(paramName,paramValues){paramName=decodeURIComponent(paramName);paramValues=decodeURIComponent(paramValues);var _paramValues=paramValues.indexOf(',')>-1?paramValues.split(','):paramValues;var _comparisonValue=decodeURIComponent(value);_hrefParams[paramName]=[];if(name==paramName){if(_paramValues instanceof Array){$.each(_paramValues,function(index,val){if(val!=_comparisonValue){_hrefParams[paramName].push(val);}});}else if(_paramValues!=_comparisonValue){_hrefParams[paramName].push(_paramValues);}}else if(name=='faixa'&&(paramName=='minp'||paramName=='maxp')){return true;}else{if(_paramValues instanceof Array){$.each(_paramValues,function(index,val){_hrefParams[paramName].push(val);});}else{_hrefParams[paramName].push(_paramValues);}}});var _url=window.location.origin+window.location.pathname;var _urlParamsInst='';var first=true;$.each(_hrefParams,function(paramName,paramValues){if(paramValues.length==0){return true;}
var _values=paramValues.join();if(first){first=false;_urlParamsInst+='?'+paramName+'='+_values;}else{_urlParamsInst+='&'+paramName+'='+_values;}});_url+=_urlParamsInst;helper.redirect(_url);}
$(function(){filters.selectedFiltersListener();});