var loginModal={};jQuery.fn.blindLeftOut=function(duration,easing,complete){return this.animate({marginLeft:-this.outerWidth()},jQuery.speed(duration,easing,complete));};jQuery.fn.blindLeftIn=function(duration,easing,complete){return this.animate({marginLeft:0},jQuery.speed(duration,easing,complete));};jQuery.fn.blindRightOut=function(duration,easing,complete){return this.animate({marginLeft:this.outerWidth()},jQuery.speed(duration,easing,complete));};jQuery.fn.blindRightIn=function(duration,easing,complete){return this.animate({marginLeft:0},jQuery.speed(duration,easing,complete));};loginModal.optionsNavigation=function(){$(document).on('click','[data-login-option]',function(){$('[data-login-option-field]').each(function(){if(!$(this).hasClass('hidden')){$(this).addClass('hidden');$('[data-login-option-field='+$(this).attr('data-login-option-field')+'] input').removeClass('required');}});var element=$(this);var userLoginOption=parseInt(element.attr('data-login-option'));$('[data-login-option-field='+userLoginOption+']').removeClass('hidden');$('[data-login-option-field='+userLoginOption+'] input').addClass('required');if(userLoginOption==1){$('[data-login-option-config]').val('logarcomemail');}else if(userLoginOption==2){$('[data-login-option-config]').val('logarcomcpf');}else if(userLoginOption==3){$('[data-login-option-config]').val('logarcomcnpj');}});}
loginModal.optionsValidator=function(){var loginConfig=$('[data-action-login]').attr('data-login-option-config');if(loginConfig==0){$('[data-login-options-list]').addClass('hidden');}else{$('[data-login-option-field=1] label.required').addClass('hidden');}}
loginModal.modalActivateValidator=function(){$(document).on('shown.bs.modal','.modal',function(e){loginModal.optionsValidator();$("input.cpf").mask("999.999.999-99");$("input.cnpj").mask("99.999.999/9999-99");})}
$(function(){$(document).on('click','[data-stage-command]',function(){$('[data-error-container]').html('');$('[data-ok-container]').html('');var element=$(this);var nextStageNumber=parseInt(element.attr('data-stage-command'));var nextStage=$('[data-stage="'+nextStageNumber+'"]');var myStageNumber=parseInt(element.attr('data-my-stage'));var myStage=$('[data-stage="'+myStageNumber+'"]');if(nextStage.length>0&&myStage.length>0&&myStageNumber!=nextStageNumber){if(myStageNumber>nextStageNumber){myStage.blindRightOut("normal",undefined,function(){nextStage.css('margin-left',-nextStage.outerWidth()).show().blindLeftIn("normal");myStage.hide();});}else{myStage.blindLeftOut("normal",undefined,function(){nextStage.css('margin-left',nextStage.outerWidth()).show().blindRightIn("normal");myStage.hide();});}}});$(document).on('click','[data-show]',function(){var selectors=$(this).attr('data-show').split(';');for(var x in selectors)
$(selectors[x]).css('display','block');});$(document).on('click','[data-hide]',function(){var selectors=$(this).attr('data-hide').split(';');for(var x in selectors)
$(selectors[x]).css('display','none');});$(document).on('click','[data-clean-input]',function(){var selectors=$(this).attr('data-clean-input').split(';');for(var x in selectors)
$(selectors[x]).val('');});$(document).on('click','#definePasswordButton',function(){var hasError='';var password='';var passwordConf='';$('.newPassField').each(function(){var input=$(this).find('input');if(input.val().length<3)
hasError='Preencha os campos de email, senha e confirmação da senha';else if(input.attr('type')=="password"&&password.length==0)
password=input.val();else if(input.attr('type')=="password"&&passwordConf.length==0)
passwordConf=input.val();});if(password!=passwordConf)
hasError='A senha está diferente da confirmação da senha';if(hasError.length>0){$('[data-error-container]').html(hasError);}else{$('[data-error-container]').html('');$('#definePasswordBackground').trigger('click');}});$(document).on('click','[data-request-token]',function(){button=$(this);var form=button.parents('form');var tipo=form.find('[name="tipo"]').val();var emailForm=form.find('[name="email"]').val();var cpfForm=form.find('[name="cpf"]').val();var cnpjForm=form.find('[name="cnpj"]').val();if(tipo=='1'&&emailForm.length<1){form.find('[data-error-container]').html('Preencha o campo de email');}else if(tipo=='2'&&cpfForm.length<1){form.find('[data-error-container]').html('Preencha o campo de CPF');}else if(tipo=='3'&&cnpjForm.length<1){form.find('[data-error-container]').html('Preencha o campo de CNPJ');}else{form.find('[data-error-container]').html('');$('#backgroundRequestToken').trigger('click');X.post($('#urlsite').val()+'/ajax/checkout.php?act=gerarToken',{tipo:tipo,email:emailForm,cnpj:cnpjForm,cpf:cpfForm});}});$(document).on('click','[data-modal-close]',function(){X.get($('#urlsite').val()+'/ajax/checkout.php?act=fecharMenuLogin');});loginModal.optionsNavigation();loginModal.modalActivateValidator();});